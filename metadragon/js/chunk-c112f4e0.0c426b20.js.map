{"version":3,"sources":["webpack:///./src/assets/myAuthorizationCode/title.png","webpack:///./node_modules/_core-js@3.21.0@core-js/modules/es.array.join.js","webpack:///./src/views/myAuthorizationCode/index.ph.vue?df6e","webpack:///./src/views/myAuthorizationCode/index.ph.vue","webpack:///./src/views/myAuthorizationCode/index.ph.vue?5f64","webpack:///./src/views/myAuthorizationCode/index.js","webpack:///./src/views/myAuthorizationCode","webpack:///./node_modules/_core-js@3.21.0@core-js/modules/es.string.substr.js"],"names":["module","exports","$","uncurryThis","IndexedObject","toIndexedObject","arrayMethodIsStrict","un$Join","join","ES3_STRINGS","Object","STRICT_METHOD","target","proto","forced","separator","this","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","$t","on","$event","mycopy","uuid","sign","staticRenderFns","component","data","mounted","init","computed","mapGetters","web3Provider","ethAddress","methods","findLoginAuthByAddress","then","res","message","body","loginAuth","e","createUUID","s","hexDigits","i","substr","Math","floor","random","axiosPost","url","axios","method","baseURL","web3","toLowerCase","eth","personal","utils","utf8ToHex","error","signature","createLoginAuth","time","$message","success","text","textareaEl","document","createElement","setAttribute","value","appendChild","select","execCommand","removeChild","requireObjectCoercible","toIntegerOrInfinity","toString","stringSlice","slice","max","min","FORCED","start","length","intLength","intEnd","that","size","intStart","Infinity"],"mappings":"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","file":"js/chunk-c112f4e0.0c426b20.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/title.96a5fefd.png\";","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar un$Join = uncurryThis([].join);\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return un$Join(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"my-authorization-code-view\"},[_c('div',{staticClass:\"view\"},[_c('img',{staticClass:\"title-image\",attrs:{\"src\":require(\"@/assets/myAuthorizationCode/title.png\"),\"alt\":\"\"}}),_c('div',{staticClass:\"ps-text\"},[_c('p',[_vm._v(_vm._s(_vm.$t('myAuthorizationCode.ps_text.p1')))]),_c('p',[_vm._v(_vm._s(_vm.$t('myAuthorizationCode.ps_text.p2')))]),_c('p',[_vm._v(_vm._s(_vm.$t('myAuthorizationCode.ps_text.p3')))])]),_c('div',{staticClass:\"theme-type border-button\",on:{\"click\":function($event){return _vm.mycopy(_vm.uuid)}}},[_c('span',[_vm._v(_vm._s(_vm.uuid))])]),_c('button',{staticClass:\"theme-type submit-button\",on:{\"click\":_vm.sign}},[_vm._v(_vm._s(_vm.$t('myAuthorizationCode.generate')))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./index.ph.vue?vue&type=template&id=55f8ab9e&scoped=true&\"\nimport script from \"./index.js?vue&type=script&charset=utf-8&lang=js&\"\nexport * from \"./index.js?vue&type=script&charset=utf-8&lang=js&\"\nimport style0 from \"./index.ph.vue?vue&type=style&index=0&id=55f8ab9e&lang=scss&scoped=scoped&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55f8ab9e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./index.ph.vue?vue&type=style&index=0&id=55f8ab9e&lang=scss&scoped=scoped&\"","import {\r\n\tmapGetters\r\n} from \"vuex\";\r\nimport axios from \"axios\";\r\nexport default {\r\n\tdata: () => ({\r\n\t\tuuid: '',\r\n\t}),\r\n\tmounted() {\r\n\t\t// this.createUUID()\r\n\t\tthis.init()\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters({\r\n\t\t\tweb3Provider: 'web3Provider',\r\n\t\t\tethAddress: 'ethAddress'\r\n\t\t}),\r\n\t},\r\n\tmethods: {\r\n\t\tinit() {\r\n\t\t\tthis.findLoginAuthByAddress().then(res => {\r\n\t\t\t\t// console.log(res)\r\n\t\t\t\tlet {\r\n\t\t\t\t\tmessage\r\n\t\t\t\t} = res.data.body.loginAuth;\r\n\t\t\t\tthis.uuid = message;\r\n\t\t\t}).catch(e => {\r\n\t\t\t\tconsole.error(e)\r\n\t\t\t\t// this.createUUID()\r\n\t\t\t});\r\n\t\t},\r\n\t\tcreateUUID() {\r\n\t\t\tlet s = [];\r\n\t\t\tlet hexDigits = \"0123456789abcdef\";\r\n\t\t\tfor (let i = 0; i < 36; i++) {\r\n\t\t\t\ts[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\r\n\t\t\t}\r\n\t\t\ts[14] = \"4\"; // bits 12-15 of the time_hi_and_version field to 0010\r\n\t\t\ts[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1); // bits 6-7 of the clock_seq_hi_and_reserved to 01\r\n\t\t\ts[8] = s[13] = s[18] = s[23] = \"-\";\r\n\t\t\tlet uuid = s.join(\"\");\r\n\t\t\treturn uuid;\r\n\t\t},\r\n\t\taxiosPost(url, data) {\r\n\t\t\treturn axios({\r\n\t\t\t\tmethod: 'post',\r\n\t\t\t\tbaseURL: 'http://metadragon-1937987288.ap-southeast-1.elb.amazonaws.com:5869',\r\n\t\t\t\turl: url,\r\n\t\t\t\tdata: data,\r\n\t\t\t})\r\n\t\t\t// return axios({\r\n\t\t\t// \tmethod: 'post',\r\n\t\t\t// \tbaseURL: 'http://192.168.1.73:5869',\r\n\t\t\t// \turl: url,\r\n\t\t\t// \tdata: data,\r\n\t\t\t// })\r\n\t\t},\r\n\t\tasync sign() {\r\n\t\t\tif (!this.web3Provider) return;\r\n\t\t\tlet web3 = this.web3Provider;\r\n\t\t\tlet message = await this.createUUID();\r\n\t\t\tlet ethAddress = this.ethAddress.toLowerCase();\r\n\t\t\tconsole.log(\"ethAddress:\", ethAddress);\r\n\t\t\tconsole.log(\"uuid:\", message);\r\n\t\t\tweb3.eth.personal.sign(web3.utils.utf8ToHex(message), ethAddress, async (error, signature) => {\r\n\t\t\t\tconsole.log(signature, error)\r\n\t\t\t\tthis.createLoginAuth({\r\n\t\t\t\t\tmessage: message,\r\n\t\t\t\t\tethAddress: ethAddress,\r\n\t\t\t\t\tsignature: signature,\r\n\t\t\t\t\ttime: ''\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthis.$message.success('create success');\r\n\t\t\t\t\t// this.uuid = message;\r\n\t\t\t\t\t// console.log(res)\r\n\t\t\t\t\tthis.init()\r\n\t\t\t\t}).catch(e => {\r\n\t\t\t\t\tthis.$message.error('create error')\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t},\r\n\t\tcreateLoginAuth(data) {\r\n\t\t\treturn this.axiosPost('/user/createLoginAuth', data)\r\n\t\t\t// return this.axiosPost('/user/createLoginAuth', data)\r\n\t\t},\r\n\t\tfindLoginAuthByAddress() {\r\n\t\t\tlet ethAddress = this.ethAddress.toLowerCase();\r\n\t\t\treturn this.axiosPost('/user/findLoginAuthByAddress', {\r\n\t\t\t// return this.axiosPost('/user/findLoginAuthByAddress', {\r\n\t\t\t\tethAddress: ethAddress,\r\n\t\t\t})\r\n\t\t},\r\n\t\tmycopy(text) {\r\n\t\t\tlet textareaEl = document.createElement('textarea');\r\n\t\t\ttextareaEl.setAttribute('readonly', 'readonly'); // 防止手机上弹出软键盘\r\n\t\t\ttextareaEl.value = text;\r\n\t\t\tdocument.body.appendChild(textareaEl);\r\n\t\t\ttextareaEl.select();\r\n\t\t\tlet success = document.execCommand('copy');\r\n\t\t\tdocument.body.removeChild(textareaEl);\r\n\t\t\tif (success) {\r\n\t\t\t\tthis.$message.success('copy success');\r\n\t\t\t}\r\n\t\t\treturn success;\r\n\t\t}\r\n\t}\r\n}\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!./index.js?vue&type=script&charset=utf-8&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!./index.js?vue&type=script&charset=utf-8&lang=js&\"","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toString = require('../internals/to-string');\n\nvar stringSlice = uncurryThis(''.slice);\nvar max = Math.max;\nvar min = Math.min;\n\n// eslint-disable-next-line unicorn/prefer-string-slice -- required for testing\nvar FORCED = !''.substr || 'ab'.substr(-1) !== 'b';\n\n// `String.prototype.substr` method\n// https://tc39.es/ecma262/#sec-string.prototype.substr\n$({ target: 'String', proto: true, forced: FORCED }, {\n  substr: function substr(start, length) {\n    var that = toString(requireObjectCoercible(this));\n    var size = that.length;\n    var intStart = toIntegerOrInfinity(start);\n    var intLength, intEnd;\n    if (intStart === Infinity) intStart = 0;\n    if (intStart < 0) intStart = max(size + intStart, 0);\n    intLength = length === undefined ? size : toIntegerOrInfinity(length);\n    if (intLength <= 0 || intLength === Infinity) return '';\n    intEnd = min(intStart + intLength, size);\n    return intStart >= intEnd ? '' : stringSlice(that, intStart, intEnd);\n  }\n});\n"],"sourceRoot":""}